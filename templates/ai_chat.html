<!DOCTYPE html>
<html>
<head>
    <title>AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</title>
    <style>
        body { font-family: Arial; max-width: 800px; margin: 0 auto; padding: 20px; }
        #chat { border: 2px solid #f56565; border-radius: 10px; padding: 20px; }
        #messages { height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
        input { width: 70%; padding: 10px; }
        button { padding: 10px 20px; background: #f56565; color: white; border: none; }
    </style>
</head>
<body>
<div style="margin-bottom: 20px;">
    <a href="/" style="
        display: inline-block;
        background: #f56565;
        color: white;
        text-decoration: none;
        padding: 12px 24px;
        border-radius: 25px;
        font-weight: 600;
        font-size: 16px;
        transition: all 0.3s;
        box-shadow: 0 2px 10px rgba(245, 101, 101, 0.3);
    ">
        ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
    </a>
</div>
    <h1>ü§ñ AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</h1>
    <div id="chat">
        <div id="messages">
            <p><strong>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç:</strong> –ü—Ä–∏–≤–µ—Ç! –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ —Ä–µ—Ü–µ–ø—Ç–∞—Ö</p>
        </div>
        <input type="text" id="message" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
        <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>

    <script>
    async function sendMessage() {
        const input = document.getElementById('message');
        const messages = document.getElementById('messages');

        if (!input.value.trim()) return;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        messages.innerHTML += `<p><strong>–í—ã:</strong> ${input.value}</p>`;

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º
        const response = await fetch('/chat/send', {
            method: 'POST',
            headers: {'Content-Type': 'application/x-www-form-urlencoded'},
            body: 'message=' + encodeURIComponent(input.value)
        });

        const html = await response.text();
        messages.innerHTML += html;
        input.value = '';
        messages.scrollTop = messages.scrollHeight;
    }

    // Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    document.getElementById('message').onkeypress = function(e) {
        if (e.key === 'Enter') sendMessage();
    };
    </script>
</body>
</html>